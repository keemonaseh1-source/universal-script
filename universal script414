-- Load Rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Create Window
local Window = Rayfield:CreateWindow({
   Name = "keemos universal hub‚ù§Ô∏è",
   LoadingTitle = "Keemo Universal Hub‚ù§Ô∏è",
   LoadingSubtitle = "Initializing...",
   Theme = "Default",
   ToggleUIKeybind = "K"
})

-- Startup Notification
Rayfield:Notify({
   Title = "Keemo Hub Loaded ‚ù§Ô∏è",
   Content = "All tabs loaded successfully!",
   Duration = 3,
})

ConfigurationSaving = {
    Enabled = false,
    FolderName = "KeemoHubConfigs",
    FileName = "MainConfig"
}


local MovementTab   = Window:CreateTab("MovementüèÉ‚Äç‚ôÇÔ∏è")
local AbilitiesTab  = Window:CreateTab("Abilities‚ú®")
local FunTab        = Window:CreateTab("Funüéâ")
local PlayerTab     = Window:CreateTab("Playerüßë‚Äçüíº")
local MiscTab       = Window:CreateTab("Miscüé≤")
local CreditsTab    = Window:CreateTab("Credits‚ù§Ô∏è")

MovementTab:CreateSection("Movement Features")
AbilitiesTab:CreateSection("Ability Features")
FunTab:CreateSection("Fun Tools")
PlayerTab:CreateSection("Player Options")
MiscTab:CreateSection("Misc Utilities")
CreditsTab:CreateSection("Credits")

-- Infinite Jump
MovementTab:CreateButton({
   Name = "Infinite Jump",
   Callback = function()
       local InfiniteJumpEnabled = true
       game:GetService("UserInputService").JumpRequest:Connect(function()
           if InfiniteJumpEnabled then
               local plr = game.Players.LocalPlayer
               if plr and plr.Character then
                   local humanoid = plr.Character:FindFirstChildOfClass('Humanoid')
                   if humanoid then
                       humanoid:ChangeState("Jumping")
                   end
               end
           end
       end)
   end,
})

-- WalkSpeed Slider
MovementTab:CreateSlider({
   Name = "WalkSpeed",
   Range = {16, 500},
   Increment = 1,
   Suffix = "Speed",
   CurrentValue = 16,
   Flag = "WalkSpeedSlider", 
   Callback = function(Value)
       local plr = game.Players.LocalPlayer
       if plr and plr.Character then
           local humanoid = plr.Character:FindFirstChildOfClass("Humanoid")
           if humanoid then
               humanoid.WalkSpeed = Value
           end
       end
   end,
})

-- JumpPower Slider
MovementTab:CreateSlider({
   Name = "JumpPower",
   Range = {50, 500},
   Increment = 1,
   Suffix = "Power",
   CurrentValue = 50,
   Flag = "JumpPowerSlider", 
   Callback = function(Value)
       local plr = game.Players.LocalPlayer
       if plr and plr.Character then
           local humanoid = plr.Character:FindFirstChildOfClass("Humanoid")
           if humanoid then
               humanoid.JumpPower = Value
           end
       end
   end,
})

-- Copy Discord Link
MovementTab:CreateButton({
   Name = "Copy Discord Link",
   Callback = function()
       if setclipboard then
           setclipboard("https://discord.gg/Xgva2xh5xN")
       end
   end,
})

-- Teleport to Mouse Click
AbilitiesTab:CreateButton({
   Name = "click mouse to tp(t to stop and start)",
   Callback = function()
         local mouse = game.Players.LocalPlayer:GetMouse()
         local teleporting = false
    
         mouse.Button1Down:Connect(function()
              if teleporting then return end
              teleporting = true
              while teleporting do
                local targetPos = mouse.Hit + Vector3.new(0, 3, 0)
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPos.Position)
                wait(0.1)
              end
         end)
    
         game:GetService("UserInputService").InputBegan:Connect(function(input, gp)
              if gp then return end
              if input.KeyCode == Enum.KeyCode.T then
                teleporting = not teleporting
              end
         end)
    end,
})

-- Fly (Press E to Toggle)
do
    local flyState = {
        enabled = false,
        bv = nil,
        renderConn = nil,
        inputConn = nil,
    }
    local SPEED = 50

    AbilitiesTab:CreateButton({
        Name = "Fly (Press E to Toggle)",
        Callback = function()
            if not flyState.inputConn then
                flyState.renderConn = game:GetService("RunService").RenderStepped:Connect(function()
                    if not flyState.enabled then return end
                    local plr = game.Players.LocalPlayer
                    local char = plr and plr.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    
                    if not hrp or not flyState.bv or not flyState.bv.Parent then return end
                    
                    local cam = workspace.CurrentCamera
                    flyState.bv.Velocity = cam.CFrame.LookVector * SPEED
                end)

                flyState.inputConn = game:GetService("UserInputService").InputBegan:Connect(function(input, gp)
                    if gp then return end
                    if input.KeyCode == Enum.KeyCode.E then
                        if flyState.enabled then
                            flyState.enabled = false
                            if flyState.bv then
                                flyState.bv:Destroy()
                                flyState.bv = nil
                            end
                        else
                            local plr = game.Players.LocalPlayer
                            local char = plr.Character or plr.CharacterAdded:Wait()
                            local hrp = char:WaitForChild("HumanoidRootPart", 5)
                            if not hrp then return end

                            flyState.bv = Instance.new("BodyVelocity")
                            flyState.bv.MaxForce = Vector3.new(400000, 400000, 400000)
                            flyState.bv.Velocity = Vector3.new(0, 0, 0)
                            flyState.bv.Parent = hrp
                            flyState.enabled = true
                        end
                    end
                end)
            end
        end,
    })
end

-- Noclip (Press N to Toggle)
do
    local noclipEnabled = false
    local inputConnected = false
    
    AbilitiesTab:CreateButton({
        Name = "Noclip (Press N to Toggle)",
        Callback = function()
            if not inputConnected then
                inputConnected = true
                game:GetService("UserInputService").InputBegan:Connect(function(input, gp)
                    if gp then return end
                    if input.KeyCode == Enum.KeyCode.N then
                        noclipEnabled = not noclipEnabled
                        local plr = game.Players.LocalPlayer
                        if plr and plr.Character then
                            for _, part in pairs(plr.Character:GetDescendants()) do
                                if part:IsA("BasePart") then
                                    part.CanCollide = not noclipEnabled
                                end
                            end
                        end
                    end
                end)
            end
        end,
    })
end

-- Teleport to Selected Player
AbilitiesTab:CreateButton({
    Name = "Teleport to Selected Player",
    Callback = function()
        local mouse = game.Players.LocalPlayer:GetMouse()
        mouse.Button1Down:Connect(function()
            local target = mouse.Target
            if target and target.Parent then
                local targetPlayer = game.Players:GetPlayerFromCharacter(target.Parent)
                if targetPlayer and targetPlayer ~= game.Players.LocalPlayer then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = target.Parent.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                end
            end
        end)
    end,
})

-- Spin Character
FunTab:CreateButton({
    Name = "Spin Character",
    Callback = function()
        local plr = game.Players.LocalPlayer
        local char = plr and plr.Character
        local hrp = char and char:FindFirstChild("HumanoidRootPart")
        if hrp then
            local spinLoop = game:GetService("RunService").RenderStepped:Connect(function()
                if hrp and hrp.Parent then
                    hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(15), 0)
                else
                    spinLoop:Disconnect()
                end
            end)
        end
    end,
})

-- Set Health Slider
PlayerTab:CreateSlider({
   Name = "Set Health",
   Range = {0, 100},
   Increment = 1,
   Suffix = "HP",
   CurrentValue = 100,
   Flag = "HealthSlider", 
   Callback = function(Value)
       local plr = game.Players.LocalPlayer
       if plr and plr.Character then
           local humanoid = plr.Character:FindFirstChildOfClass("Humanoid")
           if humanoid then
               humanoid.Health = Value
           end
       end
   end,
})

-- FOV Slider
PlayerTab:CreateSlider({
   Name = "FOV Slider",
   Range = {1, 500},
   Increment = 1,
   Suffix = "FOV",
   CurrentValue = 100,
   Flag = "FOVSlider", 
   Callback = function(Value)
       game.Players.LocalPlayer.Camera.FieldOfView = Value
   end,
})

-- Anti AFK
MiscTab:CreateButton({
   Name = "Anti AFK",
   Callback = function()
       local vu = game:GetService("VirtualUser")
       game:GetService("Players").LocalPlayer.Idled:Connect(function()
           vu:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
           wait(1)
           vu:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
       end)
   end,
})

-- Full Bright
MiscTab:CreateButton({
   Name = "Full Bright",
   Callback = function()
       local Lighting = game:GetService("Lighting")
       Lighting.Ambient = Color3.new(1, 1, 1)
       Lighting.Brightness = 2
       Lighting.GlobalShadows = false
       Lighting.FogEnd = 100000
   end,
})

-- Server Hop
MiscTab:CreateButton({
   Name = "Server Hop (Same Game)",
   Callback = function()
       local Http = game:GetService("HttpService")
       local TPS = game:GetService("TeleportService")
       local Players = game:GetService("Players")
       
       local AllIDs = {}
       local foundServer = false
       
       while not foundServer do
           wait()
           pcall(function()
               local Site = Http:GetAsync("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100")
               local Data = Http:JSONDecode(Site)
               
               for _, v in pairs(Data.data) do
                   if v.playing < v.maxPlayers and v.id ~= game.JobId then
                       table.insert(AllIDs, v.id)
                   end
               end
           end)
           
           if #AllIDs > 0 then
               foundServer = true
               local RandomID = AllIDs[math.random(1, #AllIDs)]
               TPS:TeleportToPlaceInstance(game.PlaceId, RandomID, Players.LocalPlayer)
           end
       end
   end,
})

-- Copy Discord Link (Misc)
MiscTab:CreateButton({
   Name = "Copy Discord Link",
   Callback = function()
       if setclipboard then
           setclipboard("https://discord.gg/Xgva2xh5xN")
       end
   end,
})

-- Credits
CreditsTab:CreateLabel("Keemo Hub Framework Loaded ‚ù§Ô∏è")
CreditsTab:CreateLabel("Developed by Keemo")
CreditsTab:CreateLabel("Thanks for using Keemo Hub ‚ù§Ô∏è")
CreditsTab:CreateButton({
   Name = "Copy Discord Link",
   Callback = function()
       if setclipboard then
           setclipboard("https://discord.gg/Xgva2xh5xN")
       end
   end,
})
